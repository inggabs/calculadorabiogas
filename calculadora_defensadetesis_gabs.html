<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estimaci칩n de Producci칩n de Biog치s</title>
    <style>
        /* General */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f8f7;
            color: #333;
            margin: 0;
            padding: 0;
        }

        h1 {
            text-align: center;
            background-color: #6bc970;
            color: white;
            padding: 15px;
            margin: 0;
        }

        h2 {
            color: #6bc970;
            margin-top: 20px;
        }

        /* Formulario */
        label {
            font-weight: bold;
            display: block;
            margin-top: 15px;
            color: #333;
        }

        select, input[type="number"], input[type="range"] {
            width: 100%;
            padding: 8px;
            margin: 5px 0 15px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        input[type="range"] {
            background: #e8f5e9;
        }

        button {
            background-color: #6bc970;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #58a858;
        }

        /* Resultados */
        #resultado {
            background: #dff9e4;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        }

        #imagenBiodigestor {
            display: block;
            margin: 20px auto;
            max-width: 100%;
            border-radius: 10px;
        }

        /* Contenedor */
        .container {
            max-width: 600px;
            margin: 30px auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        }

        /* Footer */
        footer {
            text-align: center;
            background: #333;
            color: white;
            padding: 10px;
            margin-top: 20px;
        }

        footer a {
            color: #6bc970;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
        #resultadoTabla {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }

    #resultadoTabla th, #resultadoTabla td {
        border: 1px solid #ddd;
        text-align: left;
        padding: 8px;
    }

    #resultadoTabla th {
        background-color: #6bc970;
        color: white;
    }

    #resultadoTabla tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    #resultadoTabla tr:hover {
        background-color: #ddd;
    }
    footer {
        background: linear-gradient(to right, #6bc970, #58a858);
        color: white;
        text-align: center;
        padding: 15px;
        font-family: Arial, sans-serif;
        margin-top: 20px;
    }

    footer .footer-content {
        max-width: 600px;
        margin: auto;
        line-height: 1.6;
    }

    footer p {
        margin: 5px 0;
    }

    footer strong {
        font-size: 18px;
        color: #fffbea;
        font-family: 'Georgia', serif;
    }
    </style>
</head>
<body>
    <h1>Estimaci칩n de Producci칩n de Biog치s</h1>

    <div class="container">
        <label for="tipo">Tipo de Sustrato:</label>
        <select id="tipo">
            <option value="" disabled selected>Seleccione un sustrato</option>
            <option value="paja de trigo">Paja de trigo</option>
            <option value="ma칤z - residuos de colecta">Ma칤z - residuos de colecta</option>
            <option value="residuos de limpieza de granos">Residuos de limpieza de granos</option>
            <option value="papa - residuos de colecta">Papa - residuos de colecta</option>
            <option value="silo de ma칤z (planta verde)">Silo de ma칤z (planta verde)</option>
            <option value="silo de pastos (verde)">Silo de pastos (verde)</option>
            <option value="banano">Banano</option>
            <option value="bananero con bananas">Bananero con bananas</option>
            <option value="remolacha, hoja de colecta">Remolacha, hoja de colecta</option>
            <option value="desperdicios de ganado lechero (con restos de alimento)">Desperdicios de ganado lechero (con restos de alimento)</option>
            <option value="desechos de bovino">Desechos de bovino</option>
            <option value="estiercol de bovino con paja">Estiercol de bovino con paja</option>
            <option value="desechos de cerdo">Desechos de cerdo</option>
            <option value="estiercol de cerdo">Estiercol de cerdo</option>
            <option value="estiercol de gallinas">Estiercol de gallinas</option>
            <option value="vinaza de ca침a de az칰car">Vinaza de ca침a de az칰car</option>
            <option value="bagazo de ca침a de az칰car">Bagazo de ca침a de az칰car</option>
            <option value="torta de filtraci칩n de ca침a de az칰car">Torta de filtraci칩n de ca침a de az칰car</option>
            <option value="pi침a, f치brica de conservas">Pi침a, f치brica de conservas</option>
            <option value="procesamiento de arroz">Procesamiento de arroz</option>
            <option value="procesamiento de trigo">Procesamiento de trigo</option>
            <option value="pulpa de caf칠">Pulpa de caf칠</option>
            <option value="pulpa de naranja">Pulpa de naranja</option>
            <option value="glicerina">Glicerina</option>
            <option value="rumen (bovinos)">Rumen (bovinos)</option>
            <option value="residuos organicos mezclados">Residuos org치nicos mezclados</option>
            <option value="residuos organicos separados">Residuos org치nicos separados</option>
            <option value="resto de alimentos">Resto de alimentos</option>
        </select>

        <label for="masa">Masa de Desecho Promedio Diario (kg):</label>
        <input type="number" id="masa" name="masa" min="0" step="1" value="50"> kg

        <label for="vol">Volumen de Desecho Promedio Diario (m췁):</label>
        <input type="number" id="vol" name="vol" min="0" step="0.1" value="10"> m췁

        <label for="tiempo">Tiempo de Consumo del Gas (horas):</label>
        <input type="range" id="tiempo" name="tiempo" min="1" max="24" step="1" value="5" 
               oninput="document.getElementById('tiempoValue').innerText = this.value">
        <span id="tiempoValue">5</span> horas
        <br><br>

        <button onclick="procesarDatos()">Calcular</button>

        <h2>Resultados:</h2>
        <div id="resultadoContainer" style="display: none;">
            <table id="resultadoTabla">
                <thead>
                    <tr>
                        <th>Descripci칩n</th>
                        <th>Resultado</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Las filas se generar치n din치micamente -->
                </tbody>
            </table>
        </div>
        <footer>
            <div class="footer-content">
                <p>
                     Ingenier칤a en Energ칤a - 2024 | Dise침ado para la Sostenibilidad
                </p>
                <p>
                    <strong>Gabriela Gonz치lez Troche</strong> | Defensa de Tesis
                </p>
                <p>
                    游 Inspirado en la Energ칤a Renovable y el Futuro Verde 游깴
                </p>
            </div>
        </footer>

    <script>
        const planilla = {
    "paja de trigo": { "ST": 86, "categ": "agr칤cola", "produccionBiogas": 0.148, "Sv/St": 92 },
    "ma칤z - residuos de colecta": { "ST": 35, "categ": "agr칤cola", "produccionBiogas": 0.081, "Sv/St": 92 },
    "residuos de limpieza de granos": { "ST": 59, "categ": "agr칤cola", "produccionBiogas": 0.267, "Sv/St": 94 },
    "papa - residuos de colecta": { "ST": 22, "categ": "agr칤cola", "produccionBiogas": 0.077, "Sv/St": 94 },
    "silo de ma칤z (planta verde)": { "ST": 33, "categ": "agr칤cola", "produccionBiogas": 0.097, "Sv/St": 96 },
    "silo de pastos (verde)": { "ST": 40, "categ": "agr칤cola", "produccionBiogas": 0.113, "Sv/St": 90 },
    "banano": { "ST": 4.1, "categ": "agr칤cola", "produccionBiogas": 0.008, "Sv/St": 7 },
    "bananero con bananas": { "ST": 7.4, "categ": "agr칤cola", "produccionBiogas": 0.025, "Sv/St": 88 },
    "remolacha, hoja de colecta": { "ST": 16, "categ": "agr칤cola", "produccionBiogas": 0.03, "Sv/St": 78 },
    "desperdicios de ganado lechero (con restos de alimento)": { "ST": 8.5, "categ": "ganadero", "produccionBiogas": 0.014, "Sv/St": 85 },
    "desechos de bovino": { "ST": 9.5, "categ": "ganadero", "produccionBiogas": 0.015, "Sv/St": "75-82" },
    "estiercol de bovino con paja": { "ST": 25, "categ": "ganadero", "produccionBiogas": 0.0275, "Sv/St": "68-76" },
    "desechos de cerdo": { "ST": 7, "categ": "ganadero", "produccionBiogas": 0.018, "Sv/St": "75-85" },
    "estiercol de cerdo": { "ST": 22.5, "categ": "ganadero", "produccionBiogas": 0.036, "Sv/St": "75-80" },
    "estiercol de gallinas": { "ST": 32, "categ": "ganadero", "produccionBiogas": 0.048, "Sv/St": "63-80" },
    "vinaza de ca침a de az칰car": { "ST": 4, "categ": "industria alimentaria", "produccionBiogas": 0.006, "Sv/St": "75-85" },
    "bagazo de ca침a de az칰car": { "ST": 60, "categ": "industria alimentaria", "produccionBiogas": 0.281, "Sv/St": 93 },
    "torta de filtraci칩n de ca침a de az칰car": { "ST": 25, "categ": "industria alimentaria", "produccionBiogas": 0.047, "Sv/St": 70 },
    "pi침a, f치brica de conservas": { "ST": 15, "categ": "industria alimentaria", "produccionBiogas": 0.052, "Sv/St": 96 },
    "procesamiento de arroz": { "ST": 91, "categ": "industria alimentaria", "produccionBiogas": 0.041, "Sv/St": 82 },
    "procesamiento de trigo": { "ST": 88, "categ": "industria alimentaria", "produccionBiogas": 0.274, "Sv/St": 85 },
    "pulpa de caf칠": { "ST": 20, "categ": "industria alimentaria", "produccionBiogas": 0.045, "Sv/St": 93 },
    "pulpa de naranja": { "ST": 21, "categ": "industria alimentaria", "produccionBiogas": 0.024, "Sv/St": 94.5 },
    "glicerina": { "ST": 100, "categ": "industria alimentaria", "produccionBiogas": 0.423, "Sv/St": 99.5 },
    "rumen (bovinos)": { "ST": 22.5, "categ": "industria alimentaria", "produccionBiogas": 0.043, "Sv/St": "66-84" },
    "residuos organicos mezclados": { "ST": 35, "categ": "RSU", "produccionBiogas": 0.525, "Sv": 55 },
    "residuos organicos separados": { "ST": 35, "categ": "RSU", "produccionBiogas": 0.35, "Sv": 75 },
    "resto de alimentos": { "ST": 17.5, "categ": "RSU", "produccionBiogas": 0.85, "Sv": 90 }
};


function procesarDatos() {
        const tipo = document.getElementById('tipo').value;
        const masa = parseFloat(document.getElementById('masa').value);
        const vol = parseFloat(document.getElementById('vol').value);
        const tiempo = parseFloat(document.getElementById('tiempo').value);

    
        

        if (!tipo) {
            alert("Por favor, seleccione un tipo de sustrato.");
            return;
        }

        const datos = planilla[tipo];
        if (!datos) {
            alert("El tipo de sustrato no se encuentra en la base de datos.");
            return;
        }

        const { ST, categ, produccionBiogas,Sv } = datos;
        
        const volgas = produccionBiogas * 0.75* masa * ST * Sv / 10000;
        const dimension = 30 * vol;
        const energia = volgas * 0.3 * 5.9697;
        const consumoGas = volgas / tiempo;
        const potenciaelectrica = energia / tiempo;
        const gasometro= volgas / 24 * (24 - tiempo);

        const tipoDigest = ST < 20 ? "digesti칩n h칰meda" : "digesti칩n seca";
        
        let biodigestor;
        if (categ === 'agr칤cola') {
        if (ST < 15) {
            biodigestor = 'Laguna con mezcla mec치nica';
            // imagenSrc = 'laguna_mistura.jpg';
        } else if (ST < 20) {
            biodigestor = 'CSTR con mezclador, versi칩n b치sica';
            // imagenSrc = 'cstr_basica.jpg';
        }
    } else if (categ === 'industria de alimentos') {
        if (ST < 6) {
            biodigestor = 'UASB Industria';
            imagenSrc = 'uasb_industria.jpg';
        } else if (ST < 20) {
            biodigestor = 'CSTR con mezcla versi칩n avanzada';
            //imagenSrc = 'cstr_avanzada.jpg';
        }
    } else if (categ === 'RSU') {
        const humedad = ST;
        if (humedad > 20) {
            if (humedad > 35) {
                biodigestor = 'Digesti칩n anaer칩bica seca, discontinua (Garaje)';
                // imagenSrc = 'cstr_mezcla.jpg';
            } else if (humedad > 25) {
                biodigestor = 'Digesti칩n anaer칩bica seca, continua (piston o flujo horizontal)';
            }
            else {
                biodigestor = 'digesti칩n seca';
                // imagenSrc = 'digestion_seca.jpg';
            }
        }
        else if (humedad < 15) {
            biodigestor = 'Digestion anaerobica humeda continua (CSTR)';
        }
        else {
            biodigestor = 'digestion humeda'
        }
    }
 


        // Mostrar resultados en una tabla
        const resultadoContainer = document.getElementById('resultadoContainer');
        const resultadoTablaBody = document.querySelector('#resultadoTabla tbody');
        resultadoTablaBody.innerHTML = ""; // Limpiar contenido previo

        const resultados = [
            { descripcion: "Biodigestor sugerido", valor: biodigestor },
            { descripcion: "Volumen del biodigestor", valor: `${dimension.toFixed(2)} m췁` },
            { descripcion: "Biog치s producido por d칤a", valor: `${volgas.toFixed(2)} m췁` },
            { descripcion: "Energ칤a el칠ctrica producida", valor: `${energia.toFixed(2)} kWh` },
            { descripcion: "Consumo de gas por hora", valor: `${consumoGas.toFixed(2)} m췁/hora` },
            { descripcion: "Potencia el칠ctrica", valor: `${potenciaelectrica.toFixed(2)} kW` },
            { descripcion: "Volumen del gasometro", valor: `${gasometro.toFixed(2)} m췁` },
        ];

        resultados.forEach(resultado => {
            const row = document.createElement('tr'); // crea un elemento de fila de tabla (<tr>) utilizando el m칠todo document.createElement
            const cellDescripcion = document.createElement('td'); // crea dos celdas de tabla (<td>), que contendr치n los datos
            const cellValor = document.createElement('td'); 

            cellDescripcion.textContent = resultado.descripcion; // Es un texto que representa una descripci칩n, por ejemplo, "Biog치s producido por d칤a"
            cellValor.textContent = resultado.valor; //valor numerico de biog치s producido

            row.appendChild(cellDescripcion);
            row.appendChild(cellValor);
            resultadoTablaBody.appendChild(row);
        });

        resultadoContainer.style.display = 'block'; // Mostrar el contenedor de resultados

        // Mostrar imagen del biodigestor
        document.getElementById('imagenBiodigestor').src = "ruta/a/la/imagen.jpg"; // Ajustar ruta
        document.getElementById('imagenBiodigestor').style.display = "block";
    }
    </script>
</body>
</html>
